防火墙的必备技术
针对网络存在的各种安全隐患，防火墙必须具有如下安全特性：
1)	网络隔离及访问控制：能够有效防止对外公开的服务器被黑客用于控制内网的一个跳板。
2)	攻击防范：能够保护网络免受黑客对服务器、内部网络的攻击。
3)	地址转换：在解决网络地址不足的前提下实现对外的网络访问，同时能够实现对外隐藏内部网络地址和专用服务器。
4)	应用层状态监测：可以实现单向访问。
5)	身份认证：可以确保资源不会被未授权的用户（也可以称为非法用户）或以授权方式（非法权限）使用。例如，攻击者通过猜测帐号和密码的组合，进入计算机系统非法使用资源的行为。
6)	内容过滤：能够过滤掉内部网络对非法网站/色情网站的访问，以及阻止通过邮件发送机密文件所造成的泄密行为。
7)	安全管理：主要指日志审计和防火墙的集中管理。



防火墙的主要作用是实现网络隔离和访问控制。

防火墙从安全管理的角度出发，一般将设备本身划分为不同的安全区域，通过将端口和网络设备接到不同的区域里，从而达到网络隔离的目的：

1)	不受信区域：一般指的是Internet，主要攻击都来自于这个区域。
2)	受信区域：一般指的是内网区域，这个区域是可控的。
3)	DMZ区域：放置公共服务器的区域，一般情况下，这个区域接受外部的访问，但不会主动去访问外部资源。

防火墙通常使用ACL访问控制列表、ASPF应用层状态检测包过滤的方法来实现访问控制的目的。



防止常见网络层攻击行为

防火墙一般应该支持对IP地址欺骗、WinNuke、Land攻击、Tear Drop等常见的网络攻击行为，主动发现丢弃报文。
WinNuke也称为“蓝色炸弹”,它是导致你所与之交流用户的 Windows 操作系统突然的崩溃或终止。“蓝色炸弹”实际上是一个带外传输网络数据包（OOB，out of band）,其中包括操作系统无法处理的信息;这样便会导致操作系统提前崩溃或终止。
land 攻击是一种使用相同的源和目的主机和端口发送数据包到某台机器的攻击。结果通常使存在漏洞的机器崩溃。
Tear drop类的攻击利用UDP包重组时重叠偏移(假设数据包中第二片IP包的偏移量小于第一片结束的位移,而且算上第二片IP包的Data,也未超过第一片的尾部,这就是重叠现象。)的漏洞对系统主机发动拒绝服务攻击,最终导致主机菪掉。
3)	针对畸形报文的防范
通过一些畸形报文，如果超大的ICMP报文，非法的分片报文，TCP标志混乱的报文等，可能会造成比较验证的危害，防火墙应该可以识别出这些报文。
4)	针对ICMP重定向、不可达等具有安全隐患的报文应该具有过滤、关闭的能力。


防火墙同路由器一样，必须具备NAT地址转换功能，因此在NAT的细节上必须具备：
1)	支持NAT/PAT，支持地址池；
2)	支持策略NAT，根据不同的策略进行不同的NAT；
3)	支持NAT server 模式，可以向外映射内部服务器；
4)	提供端口级别的NAT server 模式，可以将服务器的端口映射为外部的一个端口，不开放服务器的所有端口，增加服务器的安全性。
5)	支持多种ALG： 包括H323/MGCP/SIP/H248/RTSP/HWCC，还支持ICMP、FTP、DNS、PPTP、NBT、ILS等协议。
