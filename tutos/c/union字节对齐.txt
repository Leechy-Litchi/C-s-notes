https://zhuanlan.zhihu.com/p/266960442
C语言“隐秘的角落”――union没那么简单

根据联合的定义：
    联合定义的最大空间是它的成员最大的那个变量定义。
    它将保证对最小成员的类型进行强制的对齐。

所以，当我们用这样一个union过后，我们就不用担心我们如何去初始化我们的链表了，因为它将是永远的四字节对齐（有些机器是2/8字节，不用管），同时将避免一些我们难以预料到的bug。

在嵌入式系统软件的开发中，你不得不对“对齐”这个词语另眼相看。
因为，如果你不重视它，它会隐藏起来，然后在不期然的时候给你迎头重击。

曾经有一个项目,其中reouce的资源是用结构体定义的多维数组，在利用这个resource的时候，进行指针的强制转换，结果因为结构体的定义不是四字节对齐，导致了系统重启，最后花了很多时间才找到这个问题所在。
后来，利用关键字attribute解决了。

